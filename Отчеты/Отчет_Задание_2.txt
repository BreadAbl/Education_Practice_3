ОТЧЁТ ПО ЗАДАНИЮ 2
Тема: Разработка структуры базы данных для системы учёта заявок

МОДЕЛЬ ДАННЫХ И ОСНОВНЫЕ ОБЪЕКТЫ
Построена реляционная модель в соответствии с третьей нормальной формой для сохранения информации о ремонтных заявках.
Структура включает таблицы: users (учётные записи), repair_requests (обращения на ремонт),
comments (примечания к обращениям) и справочные таблицы при необходимости.

СИСТЕМА КЛЮЧЕЙ И ВЗАИМОСВЯЗЕЙ
Установлены следующие связи:
- user_id выступает первичным ключом для пользователей.
- requestid идентифицирует заявки.
- clientid и masterid ссылаются на users (клиент и исполнитель соответственно).
- commentid служит первичным ключом комментариев.
- requestid в comments связан с repair_requests.
- masterid в comments указывает на автора комментария.

Целостность данных гарантируется внешними ключами и проверочными ограничениями для полей статусов.

ПРИВЕДЕНИЕ К НОРМАЛЬНЫМ ФОРМАМ
Информация о пользователях вынесена в отдельную таблицу users, что предотвращает избыточность хранения контактных данных.
Статусы заявок содержатся в едином атрибуте requeststatus с проверкой допустимых значений.
Схема соответствует требованиям третьей нормальной формы.

РАЗВЁРТЫВАНИЕ БД
На PostgreSQL-сервере создана база technic_db.
Выполнен SQL-скрипт technic_bd.sql для формирования таблиц, индексов и ограничений.
Загружены тестовые данные: учётные записи пользователей различных типов и пробные заявки.

ЗАПРОСЫ И АНАЛИТИКА
Разработаны SQL-запросы для получения:
- текущих заявок конкретного мастера;
- закрытых обращений за выбранный период;
- усреднённого времени обслуживания по категориям техники;
- загруженности специалистов (общая, текущая, выполненная).

Результаты применяются в статистическом разделе приложения.

ЗАЩИТА И АРХИВИРОВАНИЕ ДАННЫХ
Организовано создание резервных копий через pg_dump.
Созданы роли с различными правами: администратор, служебная учётная запись приложения, тестовые аккаунты.
Реализовано разграничение доступа: клиенты видят только собственные обращения, мастера — назначенные им, руководящий персонал — полный перечень.
